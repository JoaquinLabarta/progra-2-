ORG 1000H
 CADENA DB "ola"
 FIN_CADENA DB ?
 VOCALES DB 61h,65h,69h,6fh,75h,41h,45h,49h,4fh,55h; "aeiouAEIOU"
 FIN_TABLA DB ?
 
ORG 3000H
 ES_VOCAL: CMP [BX], AL; COMPARO A VER SI ES O NO VOCAL
   JNZ NOINCREMENTAR; SI NO ES VOCAL SE VA A NOINCREMENTAR
   INC AH; SI ES VOCAL CUENTO
   JMP FIN_VOCAL; SALE PARA NO RECORRER EL VECTOR DE VOCALES ENTERO
   
  NOINCREMENTAR: INC BX; PASO A LA SIGUIENTE VOCAL
   DEC DL; VOY BIEN DE NO PASARME DE LA TABLA
   JNZ ES_VOCAL
  FIN_VOCAL: RET; PUNTO DE RETORNO AL RECORRER_CADENA
  
 RECORRER_CADENA: MOV AL, [BX]; GUARDO CHAR PARA EVALUARLO
    PUSH BX; GUARDO EN PILA PARA NO PERDER DIR STRING
    MOV BX, CX; MANDO DIR DE VOCALES A BX PARA IR COMPARANDO CON INDIRECTO
    CALL ES_VOCAL 
    MOV DL, OFFSET FIN_TABLA - OFFSET VOCALES; GUARDO DE VUELTA LA LONGITUD DE LAS VOCALES
    POP BX; RECUPERO BX
    INC BX; INCREMENTO A SIGUIENTE CHAR
    DEC DH; DECREMENTO LONGITUD STRING
    JNZ RECORRER_CADENA
   RET
 

ORG 2000H
 MOV AH, 0; CONTADOR VOCALES
 MOV BX, OFFSET CADENA; GUARDO DIR STRING
 MOV CX, OFFSET VOCALES; GUARDO DIR TABLA VOCALES
 MOV DL, OFFSET FIN_TABLA - OFFSET VOCALES; GUARDO LONGITUD TABLA VOCALES
 MOV DH, OFFSET FIN_CADENA - OFFSET CADENA; GUARDO LONGITUD DE STRING
 CALL RECORRER_CADENA;
 JMP FIN
FIN: HLT
END